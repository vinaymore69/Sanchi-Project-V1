<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reset Password</title>
    <link rel="stylesheet" href="/css_files/resetPassword.css" />
    <link rel="stylesheet" href="/css_files/menu.css" />
    <link rel="stylesheet" href="/css_files/language.css" />
    <link rel="stylesheet" href="/css_files/footer.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/lenis@1.1.20/dist/lenis.css" />
  </head>

  <body>
    <div id="main">
      <!-- languages section -->
      <div id="languages-section">
        <div id="closing" style="opacity: 0">
          <span style="font-size: 100px" id="closing-span">&#10008;</span>
        </div>
        <div id="languages">
          <h1 id="content101">Choose Language</h1>
          <div id="language">
            <h2 value="english" id="english-option">English</h2>
            <h2 value="hindi" id="hindi-option">हिंदी</h2>
            <h2 value="marathi" id="marathi-option">मराठी</h2>
          </div>
        </div>
      </div>
      <!-- languages section end -->

      <div id="page1">
       
        
        <nav>
          <a href="/index.html">
            <img src="/images/vp logo.png" alt="" id="nav-img" />
          </a>
          <div id="nav-part2">
            <h4>
              <a href="/index.html">
                <span class="material-symbols-outlined">home</span>
                <span style="font-size: 1.2vw" id="content114">Home</span>
              </a>
            </h4>
            <h4>
              <a href="/about.html">
                <span class="material-symbols-outlined">info</span>
                <span style="font-size: 1.2vw" id="content115">About</span>
              </a>
            </h4>
            <h4>
              <a href="#" id="language-toggle">
                <span class="material-symbols-outlined">language</span>
                <span style="font-size: 1.2vw" id="content116">Language</span>
              </a>
            </h4>
            <h4>
              <a href="/contact.html">
                <span class="material-symbols-outlined">contact_page</span>
                <span style="font-size: 1.2vw" id="content117">Contact</span>
              </a>
            </h4>
            <h4 class="nav-resources-section">
              <a href="#">
                <span class="material-symbols-outlined">video_library</span>
                <span style="font-size: 1.2vw" id="content118">Resources</span>
              </a>
            </h4>
            <h4 class="nav-dashboard-section" id="dashboard-section">
              <a href="/user/dashboard">
                <span class="material-symbols-outlined">dashboard</span>
                <span id="content119">Dashboard</span>
              </a>
            </h4>
          </div>
          <div id="menu-icon">
            <span class="material-symbols-outlined"> menu </span>
          </div>
        </nav>
  
        <div id="nav-part3">
          <div id="mobile-nav">
            <h5><a href="/index.html" id="content107">Home</a></h5>
            <h5><a href="/about.html" id="content108">About</a></h5>
            <h5>
              <a id="language-toggle1"><span id="content109">Languages</span></a>
            </h5>
            <h5><a href="/contact.html" id="content110">Contact</a></h5>
            <h5><a href="#" id="content111">Resources</a></h5>
          </div>
        </div>

        <!-- ✅ Reset Password Form -->
        <div id="login-container">
          <div id="login-left-container"></div>
          <div id="login-right-container">
            <h3 id="content0" class="resetPasswordheading">Reset Password</h3>

            <div class="error-message" id="error-message"></div>
            <div class="success-message" id="success-message"></div>

            <form id="reset-password-form">
              <div class="form-group1">
                <label for="email" id="content1">Email Id: </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Enter your email"
                  required
                />
              </div>

              <div class="form-group2">
                <label for="new-password" id="content2">New Password: </label>
                <input
                  type="password"
                  id="new-password"
                  name="new_password"
                  placeholder="Password"
                  required
                />

                <label for="confirm-password" id="content3"
                  >Confirm Password:
                </label>
                <input
                  type="password"
                  id="confirm-password"
                  name="confirm_password"
                  placeholder="Confirm Password"
                  required
                />
              </div>

              <button type="submit" class="reset-submit-btn" id="content4">
                Submit
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- footer section -->
      <div id="page6">
        <div id="footer-top">
          <div id="footer-socials">
            <div id="footer-media">
              <a
                href="https://www.instagram.com/vp_vidyalankar/"
                style="text-decoration: none; color: #fff"
              >
                <i class="fa-brands fa-instagram fa-2x"></i
              ></a>
              <a
                href="https://www.linkedin.com/in/vidyalankarpolytechnic/"
                style="text-decoration: none; color: #fff"
                ><i class="fa-brands fa-linkedin"></i
              ></a>
              <a
                href="https://x.com/VidyalankarPoly"
                style="text-decoration: none; color: #fff"
                ><i class="fa-brands fa-x-twitter"></i
              ></a>
            </div>

            <div id="footer-copyrights">
              <h4 id="content201">
                © 2025 Vidyalankar Polytechnic. All Rights Reserved.
              </h4>
            </div>

            <div id="footer-links">
              <a href="privacypolicy.html" id="content202">Privacy Policy</a>
              <a href="gallery.html" id="content203">Gallery</a>
            </div>
          </div>
          <div id="footer-description">
            <p id="content204">
              "Volunteering is at the very core of being a human. No one has
              made it through life without someone else's help." — Heather
              French Henry
            </p>
          </div>
        </div>

        <div id="footer-down">
          <div class="group1">
            <img
              src="/All domains Images/All Logos/5.png"
              alt=""
              class="footer-down-image"
            />
            <img
              src="/All domains Images/All Logos/4.png"
              alt=""
              class="footer-down-image"
            />
            <h6 id="content205">Inovators</h6>
          </div>
          <!-- <img src="All domains Images/All Logos/1.png" alt="" /> -->

          <div class="group2">
            <h6 id="content206">Sponcers</h6>
            <img src="/images/redbox logo.png" alt="" class="footer-down-image"  />
            <img src="/images/dads in town logo.png" alt="" class="footer-down-image"  />
          </div>
        </div>
      </div>
      <!-- main page section end -->
    </div>

    <script src="https://unpkg.com/lenis@1.1.20/dist/lenis.min.js"></script>
    <script src="https://cdn.botpress.cloud/webchat/v2.2/inject.js"></script>
    <script src="https://files.bpcontent.cloud/2025/01/15/19/20250115191515-LBSDTJT5.js"></script>
    <script src="/javascript_files/resetPassword.js"></script>
    <script src="/javascript_files/lenis.js"></script>
    <script src="/javascript_files/menu.js"></script>
    <script src="/javascript_files/resource.js"></script>

    <script>
      document
        .getElementById("reset-password-form")
        .addEventListener("submit", async function (event) {
          event.preventDefault(); // Prevent form submission

          const email = document.getElementById("email").value.trim();
          const newPassword = document
            .getElementById("new-password")
            .value.trim();
          const confirmPassword = document
            .getElementById("confirm-password")
            .value.trim();

          const errorMessageDiv = document.getElementById("error-message");
          const successMessageDiv = document.getElementById("success-message");

          // Clear previous messages
          errorMessageDiv.textContent = "";
          successMessageDiv.textContent = "";

          // Validate input
          if (!email || !newPassword || !confirmPassword) {
            errorMessageDiv.textContent = "All fields are required!";
            return;
          }

          if (newPassword !== confirmPassword) {
            errorMessageDiv.textContent = "Passwords do not match.";
            return;
          }

          const response = await fetch("/auth/reset-password", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ email, new_password: newPassword }),
          });

          const data = await response.json();

          if (response.ok) {
            alert("Verification Link has been sent to your e-mail!");
          } else {
            errorMessageDiv.textContent =
              data.message || "Error resetting password.";
          }
        });
    </script>
  </body>
</html>
